<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Farzad" />

<meta name="date" content="2016-08-15" />

<title>Machine Learning Time-series Predicting Pipeline Guide</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Machine Learning Time-series Predicting Pipeline Guide</h1>
<h4 class="author"><em>Farzad</em></h4>
<h4 class="date"><em>15 August 2016</em></h4>



<div id="setup" class="section level2">
<h2>Setup</h2>
<p>For the rest of this guide, we will use our own time-series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;xts&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;mltsp&quot;</span>)

n =<span class="st"> </span><span class="dv">25</span>
stamps &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>), <span class="dt">to=</span><span class="kw">as.Date</span>(<span class="st">&quot;2010-01-25&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;day&quot;</span>)
observed_data &lt;-<span class="st"> </span><span class="kw">xts</span>(<span class="kw">as.numeric</span>(<span class="dv">1</span>:n) +<span class="st"> </span><span class="kw">runif</span>(n), stamps)</code></pre></div>
<p>Then we train on the first 20 values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">train_data &lt;-<span class="st"> </span><span class="kw">head</span>(observed_data, <span class="dv">20</span>)</code></pre></div>
<div id="note" class="section level4">
<h4>Note</h4>
<p><code>timeDate</code> is usually slow. Use <code>Date</code> or <code>POSIXct</code> whenever possible.</p>
</div>
</div>
<div id="the-pipeline" class="section level2">
<h2>The pipeline</h2>
<p>Every time-series prediction tool has three steps:</p>
<ul>
<li>Pre-processing: We will use a simple difference, with the order determined automatically (See <code>ndiffs</code> function in package <code>forecast</code> with ‘kpss’ measure).</li>
<li>Feature extraction: We will use lag windows.</li>
<li>Learner: We will use a simple linear model.</li>
</ul>
<p>We implement these using</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pp &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="st">&quot;diff&quot;</span>, <span class="st">&quot;auto&quot;</span>))
fx &lt;-<span class="st"> </span>function(x) <span class="kw">cbind</span>(x, <span class="kw">lag_windows</span>(x, <span class="dt">p=</span><span class="dv">1</span>))
ln &lt;-<span class="st"> </span>SimpleLM
fcster &lt;-<span class="st"> </span><span class="kw">mltsp_forecaster</span>(pp, fx, ln)</code></pre></div>
<p>Now <code>fcster</code> can be used to forecast the series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">fcster</span>(train_data, <span class="dt">h=</span><span class="dv">5</span>)</code></pre></div>
<pre><code>##                [,1]
## 2010-01-21 21.68824
## 2010-01-22 22.54645
## 2010-01-23 23.62475
## 2010-01-24 24.59541
## 2010-01-25 25.61871</code></pre>
<p><img src="data:image/png;base64,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vpGRkWThX532ucrLFMyE1zYttD5YcnKym5sbzYf6Eyc7LWQri4qNjQ0pzoqKCjJVZWVlC2UgrygSiV6uFt7e3vgABz8xBEHgj15eXi+XrUHYbHavXr2mTZuGP+IHVKu3BSE0YsSI58+f37hx4/333ycfKT///PO8efOo+eNHMYYaomwjbbxKO9N1BfaikPG33377jTQ+evTo5s2bd+7cQQiRobwjR44QBIEQIgji6NGjLeRJviFNT08nk0RFRXl5eeEOCdWZ9pHMAT+LUlJSyJFTV65cwcJmYlSKhYUFPhCLxagNt+X27dsJCQlLly4VCoU7d+4sKCj49ddf8QMWOyCErK2tEUJFRUWkrq5du9bG8uDb0parmISu2wd7UcaMGePp6VlWVpaUlCQUCj08PG7durVy5UqVSvXOO+8MHDgwMDAwMjLyypUr165dmzx58vjx4y9fvnz+/PkW8nR2dp40adLZs2evXbs2f/78cePGZWRkXLhwASE0fvx4/Pwke1YPHjx4/fXXyY8Ya2vruLi477777tmzZ2PHjo2Li6uoqMBDHNhsNvUFsbEgnzNNTU1tuS18Pn/Pnj0Iod9++23ZsmWenp45OTm440f+fQkICMjJyamrq5s6deq4cePu3btnMOZOhXZb2nIV02DcmIn509x7MBrkezCqMTU1lcfj0W5gr169ysrKsMP9+/epvSmEENlubC5M//z5827dutHy7NGjB34PRhDEL7/8QtoHDhyon4NIJOrVq5f+N5uUlNRCde7evYvdNm7caPAONPcebNOmTdhOhr9bvi06nY58FUHj6NGjOAf9P0Nk2LO5KCLttrTlKiYBmogvwLRp0+7cuTNx4kRvb29ra+uQkJD169f/97//JQMM/fr1u337dnR0tJubm4+Pzz//+c+Wm4gIocDAwMePHy9YsKB3795WVla9evX64IMPfv/9d6FQiB2GDh26atUq8r2qPk5OTg8ePPjkk08GDhxoa2vr7e09fvz4K1eu4OeY0SHfyJMDEVu+LSwW69ChQwcOHBgyZIi7uzuPx/Py8ho3btxPP/00Z84cnENUVFRKSkpYWJhAIOjfv/+OHTvWrVvXcjFot6UtVzEJLMJQyx4AAKMATzAAYBAQGAAwCAgMABgEBAYADAICAwAGAYEBAIOAwACAQUBgAMAgIDAAYBAQGAAwCAgMABgE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" alt /><!-- --></p>
<div id="alternative-model-creation" class="section level3">
<h3>Alternative model creation</h3>
<p>A <code>forecast</code> compatible model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">mltsp</span>(train_data, pp, fx, ln)</code></pre></div>
<p>and applying forecast to that model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">forecast</span>(model, <span class="dt">h=</span><span class="dv">5</span>)</code></pre></div>
<pre><code>##                [,1]
## 2010-01-21 21.68824
## 2010-01-22 22.54645
## 2010-01-23 23.62475
## 2010-01-24 24.59541
## 2010-01-25 25.61871</code></pre>
<p>One can simply reuse the same model with other data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model2 &lt;-<span class="st"> </span><span class="kw">mltsp</span>(model, observed_data)</code></pre></div>
</div>
<div id="pre-processing" class="section level3">
<h3>Pre-processing</h3>
<p>Pre-processing parameter contains a <code>list</code> of pre-processing techniques to be applied consecutively. Each techniques itself is in form of <code>list(&quot;techninque name&quot;, param1, param2, ...)</code>.</p>
<p>Available techniques include:</p>
<ul>
<li><code>&quot;diff&quot;</code>: Differencing the time-series. Parameter can be an integer (the differencing order), “kpss”, “adf”, or “auto”.</li>
<li><code>&quot;boxcox&quot;</code>: Box-cox transform. Parameter can be a numeric lambda, or “auto”.</li>
<li><code>&quot;log&quot;</code>: Log transform. Only works if time-series is positive. No parameters.</li>
<li><code>&quot;log_abs&quot;</code>: Log transform on absolute value. Destroys values between -1 and 1. No parameters.</li>
<li><code>&quot;log+min&quot;</code>: Log transform on <code>(x - min(x) + 1)</code>. No parameters.</li>
</ul>
</div>
<div id="feature-extraction" class="section level3">
<h3>Feature Extraction</h3>
<p>The above could have been replaced with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fx &lt;-<span class="st"> </span>function(x) <span class="kw">lag_windows</span>(x, <span class="dt">p=</span><span class="dv">1</span>, <span class="dt">no_peeking =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Here, <code>no_peeking = FALSE</code> allows the first column to be the <em>observed</em> data (i.e. zero lags), which will serve as the training target in the learning function.</p>
<p>Other options are:</p>
<ul>
<li><code>lag_windows(x, p, P = 0, freq = 1, shift = 0, no_peeking = TRUE, pstr)</code></li>
<li><code>centered_lag_windows(x, p = 1, pstr=deparse(substitute(x)))</code></li>
<li><code>seasonal_lag_windows(x, P = 1, freq = frequency(x), width = 0, shift = 0, no_peeking = TRUE, pstr)</code></li>
</ul>
</div>
<div id="learner" class="section level3">
<h3>Learner</h3>
<p>The learner should take whatever comes out of feature extraction and create a model up on it. For example, using formulas if the name of the target column in feature extraction is known:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ln &lt;-<span class="st"> </span>function(f) <span class="kw">lm</span>(x ~<span class="st"> </span>., f)</code></pre></div>
<p>Alternatively, one can use function that take a data.frame and consider the training target to be the first column, such as <code>SimpleLM</code>, or <code>svm</code> from package <code>e1071</code>.</p>
</div>
</div>
<div id="cross-validation" class="section level2">
<h2>Cross-validation</h2>
<p>To compare different models, we use cross validation (CV).</p>
<p>For example, consider the above model versus the one without <em>first difference</em> pre-processing:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fcster_nodiff &lt;-<span class="st"> </span><span class="kw">mltsp_forecaster</span>(<span class="ot">NULL</span>, 
                                  function(x) <span class="kw">lag_windows</span>(x, <span class="dt">p=</span><span class="dv">3</span>, <span class="dt">no_peeking =</span> <span class="ot">TRUE</span>),
                                  SimpleLM)</code></pre></div>
<p>CV using time-series slices are impelemted in <code>ts_crossval</code>. By default, <code>rmse</code> is used as the error measure. Parameters are: * <code>horizon</code>: Forecasting horizon to test the algorithm on * <code>initial_window</code>: How long should be the smallest window of data used for training. See documentation for more information.</p>
<p>Here, we have:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ts_crossval</span>(train_data, fcster, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>## [1] 2.694877</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ts_crossval</span>(train_data, fcster_nodiff, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>## [1] 13.06756</code></pre>
<p>The first one (i.e., using first difference) has a smaller CV error and is therefore better. Here is their out-of-sample forecast vs actual data: <img src="data:image/png;base64,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" alt /><!-- --></p>
<div id="early-break-batches-and-parallel-processing" class="section level3">
<h3>Early break, batches and parallel processing</h3>
<p>When using <code>ts_crossval</code> you don’t have to fully cross-validate to see if something is not as good as what you expect. For example, if CV error has surpased a naive algorithm, one can simply terminate the cross-validation process. This can be done by setting</p>
<ul>
<li><code>break_err</code></li>
<li><code>break_batch_err</code></li>
<li><code>break_batch_size</code></li>
</ul>
<p>For example, in the above example, first model has an accumulative CV error = 2.70, and CV is applied to 6 slices:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ts_crossval</span>(train_data, fcster, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;CV: 1 of 6 Err:  0.458098568928112&quot;
## [1] &quot;CV: 2 of 6 Err:  0.347115924471326&quot;
## [1] &quot;CV: 3 of 6 Err:  0.545312229495626&quot;
## [1] &quot;CV: 4 of 6 Err:  0.706615761722711&quot;
## [1] &quot;CV: 5 of 6 Err:  0.190170722457397&quot;
## [1] &quot;CV: 6 of 6 Err:  0.447563850135203&quot;</code></pre>
<pre><code>## [1] 2.694877</code></pre>
<p>So any model with CV error &gt; 2.70 is worse than it. Let <code>break_err = 2.7</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ts_crossval</span>(train_data, fcster_nodiff, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>, <span class="dt">break_err =</span> <span class="fl">2.7</span>,  <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;CV: 1 of 6 Err:  1.41358548236245&quot;
## [1] &quot;CV: 2 of 6 Err:  2.11831197319849&quot;
## [1] &quot;CV: Total error break: Err = 3.53189745556094&quot;</code></pre>
<pre><code>## [1] 3.531897</code></pre>
<p>CV terminates at the second slice, saving CV time of 4 slices.</p>
<p>The idea behind having a <em>batch size</em> is parallel processing. Many functions, including <code>mclapply</code> return once they have completed all computation. If this is used with <code>break_err</code>, checking for the break threshold happens only after all computation is done, and there is no use in aborting CV progress if everything is already calculated.</p>
<p>Consequenty, <code>tscrossval</code> is designed to allow one to select how much is given to <code>mclapply</code> in each <code>batch</code>. Selecting a large number results in more efficient parallel processing, but more coarse break error checking. A small number will result in higher parallel processing overheard.</p>
<p>For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;parallel&quot;</span>)
<span class="kw">options</span>(<span class="dt">mc.cores=</span><span class="dv">2</span>)

<span class="kw">system.time</span>({
err &lt;-<span class="st"> </span><span class="kw">ts_crossval</span>(train_data, fcster_nodiff, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>, <span class="dt">plapply =</span> mclapply,
            <span class="dt">break_err =</span> <span class="dv">3</span>,  <span class="dt">verbose =</span> <span class="ot">TRUE</span>)
})</code></pre></div>
<pre><code>## Warning in ts_crossval(train_data, fcster_nodiff, horizon = 5,
## initial_window = 10, : Break error is given, but batch size is not.</code></pre>
<pre><code>## [1] &quot;CV: Total error break: Err = 13.0675619396307&quot;</code></pre>
<pre><code>##    user  system elapsed 
##   0.043   0.029   0.065</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;Without batch-size Error was &quot;</span>, err)</code></pre></div>
<pre><code>## [1] &quot;Without batch-size Error was  13.0675619396307&quot;</code></pre>
<p>Which is what we expect if all 6 cross-validations were done. Note that verbose doesn’t print its result when it is inside child processes, the fucntion warns that <em>bacth size</em> is not given.</p>
<p>In comparison, a batch of size two (to fill the two available cores):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>({
err &lt;-<span class="st"> </span><span class="kw">ts_crossval</span>(train_data, fcster_nodiff, <span class="dt">horizon =</span> <span class="dv">5</span>, <span class="dt">initial_window =</span> <span class="dv">10</span>, <span class="dt">plapply =</span> mclapply,
            <span class="dt">break_err =</span> <span class="dv">3</span>,  <span class="dt">break_batch_size =</span> <span class="dv">2</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>)
})</code></pre></div>
<pre><code>## [1] &quot;CV: Total error break: Err = 3.53189745556094&quot;</code></pre>
<pre><code>##    user  system elapsed 
##   0.075   0.031   0.025</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;Without batch-size, final error was &quot;</span>, err)</code></pre></div>
<pre><code>## [1] &quot;Without batch-size, final error was  3.53189745556094&quot;</code></pre>
<p>This one also terminates sooner (compare <em>elapsed</em> values).</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
